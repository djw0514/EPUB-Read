# 自定义主题功能测试指南

## 测试目标
验证新增的"自定义"主题功能是否正常工作。

## 测试步骤

### 1. 基本功能测试

**步骤：**
1. 打开应用（在浏览器中打开 `index.html`）
2. 点击右上角的"设置"按钮
3. 查看"背景主题"部分

**预期结果：**
- 应该看到 5 个主题按钮：亮色、护眼、深色、绿意、自定义
- 每个按钮都有一个颜色预览方块
- "自定义"按钮的预览应该显示渐变效果（左下角白色，右上角深灰色）

### 2. 选择自定义主题

**步骤：**
1. 点击"自定义"主题按钮

**预期结果：**
- "自定义"按钮应该高亮显示（蓝色边框）
- 阅读区域的背景色和文字色应该变为自定义配色（默认白底黑字）

### 3. 修改自定义配色

**步骤：**
1. 滚动到"自定义配色"部分
2. 点击"背景色"颜色选择器，选择一个新颜色（例如：浅蓝色 #e3f2fd）
3. 点击"文字色"颜色选择器，选择一个新颜色（例如：深蓝色 #1565c0）

**预期结果：**
- 每次修改颜色时：
  - 阅读区域应该立即更新为新的配色
  - "自定义"主题按钮应该自动被选中（如果之前选的是其他主题）
  - "自定义"主题的预览方块应该更新为新的渐变颜色
- 所有更改应该自动保存

### 4. 主题切换测试

**步骤：**
1. 选择"深色"主题
2. 再次选择"自定义"主题

**预期结果：**
- 切换到"深色"主题时，应该显示深色背景
- 切换回"自定义"主题时，应该恢复之前设置的自定义配色

### 5. 持久化测试

**步骤：**
1. 设置一个独特的自定义配色（例如：粉色背景 #fce4ec + 紫色文字 #6a1b9a）
2. 选择"自定义"主题
3. 刷新页面（F5）

**预期结果：**
- 页面刷新后：
  - "自定义"主题应该仍然被选中
  - 自定义配色应该保持不变
  - 预览方块应该显示正确的颜色

### 6. 响应式测试

**步骤：**
1. 调整浏览器窗口大小（缩小到移动设备尺寸）
2. 打开设置面板
3. 查看主题选项

**预期结果：**
- 5 个主题按钮应该正确排列
- 在小屏幕上可能会换行，但应该保持可用性
- 所有功能应该正常工作

## 边界情况测试

### 测试 1：极端颜色组合
- 尝试设置相同的背景色和文字色
- 预期：虽然不推荐，但应该能正常工作

### 测试 2：快速切换
- 快速在不同主题之间切换
- 预期：应该流畅响应，不出现闪烁或错误

### 测试 3：打开书籍后修改
- 打开一本 EPUB 书籍
- 修改自定义配色
- 预期：书籍内容应该立即更新为新配色

## 已知问题

无

## 测试结果记录

| 测试项 | 状态 | 备注 |
|--------|------|------|
| 基本功能 | ⬜ 待测试 | |
| 选择自定义主题 | ⬜ 待测试 | |
| 修改自定义配色 | ⬜ 待测试 | |
| 主题切换 | ⬜ 待测试 | |
| 持久化 | ⬜ 待测试 | |
| 响应式 | ⬜ 待测试 | |
| 边界情况 | ⬜ 待测试 | |

## 测试完成标准

- ✅ 所有测试项都通过
- ✅ 没有控制台错误
- ✅ 用户体验流畅
- ✅ 设置正确保存和恢复
